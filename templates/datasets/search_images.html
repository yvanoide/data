{% extends 'base_generic.html' %}

{% block content %}
<div class="container" style="margin-top: 20px;">
    <h1>Recherche d'Images</h1>
    
    <form method="GET" action="{% url 'search_images' %}" class="form-inline justify-content-center mb-4">
        <input class="form-control mr-sm-2" type="search" placeholder="Rechercher des images" aria-label="Search" name="q" value="{{ query }}">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Rechercher</button>
    </form>
    
    {% if collections %}
        <ul class="list-group">
            {% for collection in collections %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    {{ collection }}
                    <a href="{% url 'download_all_images' image_collection_name=collection %}" class="btn btn-outline-success btn-sm">Télécharger</a>
                </li>
            {% empty %}
                <li class="list-group-item">Aucune image trouvée pour la recherche "{{ query }}"</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>Aucune image trouvée.</p>
    {% endif %}
</div>
{% endblock %}
